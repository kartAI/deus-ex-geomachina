

**Det er en offentlig bygning med 'FLAG'. Hvilken type offentlig bygning er det?**
```sql
--Det er en offentlig bygning med 'FLAG'. Hvilken type offentlig bygning er det? Sjekk alle kolonner for 'flag'

SELECT gid, osm_id, code, fclass, name, type, geom
FROM buildings_sample
WHERE LOWER(fclass) LIKE '%%flag%%' OR LOWER(name) LIKE '%%flag%%' OR LOWER(type) LIKE '%%flag%%';
```

```
gid    |osm_id   |code|fclass  |name               |type   |geom                                                                                                                                                                                                                                                           |
1993928|939342772|1500|building|flag               |terrace|MULTIPOLYGON (((163385.6769704203 6599643.0174306575, 163393.0576861985 6599648.749987974, 163395.33193273196 6599645.837186878, 163400.5518434919 6599639.156635495, 163401.21758652182 6599638.302188609, 163393.8481954495 6599632.568601792, 163393.1767889|
 488493|483436683|1500|building|Mandal brannstasjon|flag   |MULTIPOLYGON (((54385.5169975874 6456912.999667126, 54390.445123892336 6456921.957792325, 54389.51339755865 6456922.466928796, 54391.056030282285 6456925.26956117, 54391.97598921688 6456924.761748867, 54394.342971481325 6456929.066425402, 54398.3608368581|
```

**Båthus gid**
```sql
--Det er et båthus som har 'FLAG'. Finn 'gid' til denne.
 SELECT gid, name, fclass, geom FROM buildings_sample WHERE name ILIKE '%%flag%%';
```

```
gid    |name|fclass  |geom                                                                                                                                                                                                                                                           |
1993928|flag|building|MULTIPOLYGON (((163385.6769704203 6599643.0174306575, 163393.0576861985 6599648.749987974, 163395.33193273196 6599645.837186878, 163400.5518434919 6599639.156635495, 163401.21758652182 6599638.302188609, 163393.8481954495 6599632.568601792, 163393.1767889|                                            |
```


```
gid    |osm_id    |code|fclass  |name       |type   |geom 
1993928	939342772	1500	building	flag	terrace	MULTIPOLYGON (((163385.6769704203 6599643.0174306575, 163393.0576861985 6599648.749987974, 163395.33193273196 6599645.837186878, 163400.5518434919 6599639.156635495, 163401.21758652182 6599638.302188609, 163393.8481954495 6599632.568601792, 163393.17678893666 6599633.423556622, 163391.3669044093 6599632.01804654, 163386.16299335222 6599638.685984121, 163387.9605565393 6599640.081398033, 163385.6769704203 6599643.0174306575)))
```

**Båthus nær sykkelrute**
```sql
--Finn båthuset (type boathouse) som ligger lengst fra en sykkelrute. Bruk KNN <->

SELECT b.*, s.gid AS nearest_sykkelrute_gid, ST_Distance(b.geom, s.geom) AS distance_to_sykkelrute, b.geom
FROM buildings_sample b
CROSS JOIN LATERAL (
    SELECT gid, geom
    FROM sykkelrute_senterlinje_sample
    ORDER BY b.geom <-> geom
    LIMIT 1
) s
WHERE b.type = 'boathouse'
ORDER BY distance_to_sykkelrute DESC
LIMIT 1;
```

```
gid   |osm_id   |code|fclass  |name|type     |geom                                                                                                                                                                                                               |nearest_sykkelrute_gid|distance_to_sykkelrute|geom                                                                                                                                                                                                               |
986857|786570373|1500|building|    |boathouse|MULTIPOLYGON (((-12024.079599982884 6914018.40988299, -12019.780300501618 6914018.7260118555, -12019.029137050791 6914008.606168932, -12023.328448294895 6914008.290038513, -12024.079599982884 6914018.40988299)))|                  7442|     70343.78495284307|MULTIPOLYGON (((-12024.079599982884 6914018.40988299, -12019.780300501618 6914018.7260118555, -12019.029137050791 6914008.606168932, -12023.328448294895 6914008.290038513, -12024.079599982884 6914018.40988299)))|
```